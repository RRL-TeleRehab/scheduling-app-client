1) Do not replicate the appointment request for the same patient at the same time with the same clinician.
2) write a cron job to make the active appointments to completed at the end of the day.